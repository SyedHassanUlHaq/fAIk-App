(()=>{"use strict";var e=["Processing your submission.","Getting you to the right place...","Hang tight..."],t="dftDefaultLoadingModal",n="dftDefaultLoadingModal__overlay",r="dftDefaultLoadingModal__container",o="dftDefaultLoadingModal__header",i="dftDefaultLoadingModal__content__container",s="dftDefaultLoadingModal__content",a="dftDefaultLoadingModal__close__button",c="dftDefaultLoadingModal__spinner",u="dftDefaultLoadingModal__footer",l="dftDefaultLoadingModal__text__id",d="dftDefaultLoadingModal__banner",f="#1A1A1A",p="\n.".concat(t," {\n  display: flex;\n  flex-direction: column;\n  z-index: 999999;\n}\n\n.").concat(n," {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: ").concat("rgba(0,0,0,0.5)",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  z-index: 999999;\n}\n\n.").concat(r," {\n  background-color: #fff;\n  width: ").concat("540px",";\n  height: ").concat("350px",";\n  border-radius: 12px;\n  box-sizing: border-box;\n  color: ").concat(f,";\n  display: flex;\n  flex-direction: column;\n  box-shadow: rgba(34, 43, 72, 0.08) 0px 1px 4px;\n  box-sizing: border-box;\n}\n\n.").concat(o," {\n  padding: 16px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-bottom: 1px solid rgb(204, 204, 204);\n  box-sizing: border-box;\n}\n\n.").concat(i," {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n}\n\n.").concat(s," {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n}\n\n.").concat(u," {\n  display: flex;\n  width: 100%;\n  padding: 16px;\n  justify-content: center;\n  align-items: center;\n  border-top: 1px solid rgb(204, 204, 204);\n  box-sizing: border-box;\n  & > p {\n    color: ").concat(f,";\n    font-size: 14px;\n    font-weight: 500;\n    margin-top: 0 !important;\n    margin-bottom: 0 !important;\n  }\n}\n\n.").concat(c," {\n  border-left: 2px solid transparent;\n  border-bottom: 2px solid transparent;\n  border-top: 2px solid rgba(0,0,0,.8);\n  border-right: 2px solid rgba(0,0,0,.8);\n  border-radius: 99999px;\n  width: 20px;\n  height: 20px;\n  animation: spin 0.45s linear infinite;\n  }\n  @keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n\n\n#").concat(a," {\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  color: black;\n  justify-content: center;\n  align-items: center;\n}\n\n .").concat(d," {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 24px; \n  width: 100%;\n  background-color: #F1F1F1;\n  border-radius: 8px;\n  gap: 24px;\n }\n\n #").concat(l," {\n  color: ").concat(f,";\n  font-size: 14px;\n  font-weight: 500;\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n }\n"),h='\n<div class="'.concat(t,'">\n <div class="').concat(n,'">\n   <div class="').concat(r,'">\n\n     <div class="').concat(o,'"> \n       <button id="').concat(a,'">\n         <svg viewBox="0 0 24 24" width="14px" height="14px" focusable="false" class="chakra-icon css-onkibi" aria-hidden="true"><path fill="').concat(f,'" d="M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"></path></svg>\n       </button>\n     </div>\n\n     <div class="').concat(i,'">\n      <main class="').concat(s,'">\n        <div class="').concat(d,'">\n          <div class="').concat(c,'"></div>\n          <p id="').concat(l,'">').concat(e[0],'</p>\n        </div>\n      </main>\n\n      <footer class="').concat(u,'">\n        <p>Powered by</p>\n        <svg width="73" height="23" fill="none" xmlns="http://www.w3.org/2000/svg"><g opacity=".8" fill="currentColor"><path d="M16.957 7.077H7.814v2.185H14.7v6.661h2.258V7.077Z"></path><path d="M10.127 11.447c-1.277 0-2.313 1.002-2.313 2.238v2.238h2.313c1.278 0 2.314-1.002 2.314-2.238s-1.036-2.238-2.314-2.238ZM22.443 7.08h3.568c1.246 0 2.28.423 3.102 1.268.83.845 1.245 1.887 1.245 3.126 0 1.23-.415 2.272-1.245 3.126-.822.845-1.856 1.268-3.102 1.268h-3.568V7.08Zm1.492 7.407h2.076c.856 0 1.553-.284 2.09-.854.544-.569.817-1.288.817-2.159 0-.87-.273-1.59-.818-2.16-.536-.569-1.232-.853-2.089-.853h-2.076v6.026ZM37.896 13.147h-5.164c.104.469.34.833.707 1.092.368.26.824.39 1.369.39.735 0 1.293-.26 1.674-.779l1.155.653c-.632.913-1.58 1.369-2.842 1.369-1.047 0-1.899-.31-2.556-.93-.649-.627-.973-1.418-.973-2.373 0-.929.32-1.711.96-2.347.631-.636 1.453-.954 2.465-.954.943 0 1.721.322 2.336.966.614.645.921 1.427.921 2.348 0 .168-.017.356-.052.565Zm-5.177-1.104h3.815c-.095-.494-.31-.875-.642-1.143-.334-.267-.738-.402-1.214-.402-.518 0-.951.139-1.297.415-.346.276-.567.652-.662 1.13ZM42.373 7.087v1.306c-1.021-.084-1.531.33-1.531 1.243v.125h1.53v1.306h-1.53v4.801H39.44v-4.801h-.986V9.761h.986v-.125c0-.87.251-1.527.753-1.971.501-.444 1.228-.636 2.18-.578ZM48.03 10.323V9.43h1.4v6.44h-1.4v-1.067c-.528.712-1.285 1.067-2.271 1.067a3.1 3.1 0 0 1-2.284-.954c-.631-.636-.947-1.418-.947-2.347 0-.93.316-1.712.947-2.348a3.102 3.102 0 0 1 2.284-.954c.986 0 1.743.351 2.27 1.055Zm-3.516 3.69c.389.377.877.566 1.465.566.589 0 1.077-.188 1.467-.565.389-.385.583-.866.583-1.444s-.195-1.054-.584-1.431c-.389-.385-.878-.578-1.465-.578-.589 0-1.077.193-1.466.578-.39.376-.585.853-.585 1.43 0 .57.195 1.051.585 1.445ZM55.438 12.792V9.428h1.402v6.443h-1.402v-.97c-.432.645-1.103.968-2.01.968-.753 0-1.356-.233-1.81-.697-.455-.464-.682-1.094-.682-1.89V9.43h1.401v3.716c0 .469.13.828.39 1.08.258.25.613.376 1.063.376.51 0 .913-.153 1.207-.458.294-.306.441-.757.441-1.35ZM59.876 15.868h-1.401V7.077h1.4v8.791ZM65.118 9.591v1.306h-1.61v3.013c0 .26.061.446.183.559.12.113.3.175.538.188.237.012.534.01.889-.007v1.218c-1.073.126-1.843.036-2.31-.27-.467-.305-.701-.868-.701-1.688v-3.013h-1.194V9.591h1.194V8.236l1.401-.402V9.59h1.61Z"></path></g></svg>\n      </footer>\n     </div>\n </div>\n');function m(){var e;null===(e=document.querySelector("#".concat(a)))||void 0===e||e.addEventListener("click",(function(){var e=v();e&&(e.style.display="none")}))}function g(t){var n=v();if(n)n.style.display="flex";else{var r=document.createElement("style");r.textContent=p,t&&(r.textContent+="\n.".concat(u," {\n  display: none !important;\n}")),document.head.appendChild(r);var o,i,s=document.querySelector("body");s&&s.insertAdjacentHTML("beforeend",h),i=1,o=setInterval((function(){var t=document.getElementById(l);t&&i<=2&&(t.innerHTML=e[i],i+=1)}),3e3),2===i&&clearInterval(o),m()}}function y(){document.querySelectorAll(".".concat(t)).forEach((function(e){e.style.opacity="0",e.remove()}))}function v(){return document.querySelector(".".concat(t))}const b={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},w=console,x={};Object.keys(b).forEach((e=>{x[e]=w[e]}));const S="Datadog Browser SDK:",_={debug:x.debug.bind(w,S),log:x.log.bind(w,S),info:x.info.bind(w,S),warn:x.warn.bind(w,S),error:x.error.bind(w,S)},E="https://docs.datadoghq.com",k=`${E}/real_user_monitoring/browser/troubleshooting`,L="More details:";function O(e,t){return(...n)=>{try{return e(...n)}catch(e){_.error(t,e)}}}let C,T=!1;function R(e){T=e}function j(e){return function(){return P(e,this,arguments)}}function P(e,t,n){try{return e.apply(t,n)}catch(e){A(e)}}function A(e){if(I(e),C)try{C(e)}catch(e){I(e)}}function I(...e){T&&_.error("[MONITOR]",...e)}function $(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get(){return this},configurable:!0});let e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function q(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function M(e,t,n=function(){if("undefined"!=typeof WeakSet){const e=new WeakSet;return{hasAlreadyBeenSeen(t){const n=e.has(t);return n||e.add(t),n}}}const e=[];return{hasAlreadyBeenSeen(t){const n=e.indexOf(t)>=0;return n||e.push(t),n}}}()){if(void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const e=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,e)}if(n.hasAlreadyBeenSeen(t))return;if(Array.isArray(t)){const r=Array.isArray(e)?e:[];for(let e=0;e<t.length;++e)r[e]=M(r[e],t[e],n);return r}const r="object"===q(e)?e:{};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=M(r[e],t[e],n));return r}function D(e){return M(void 0,e)}function U(...e){let t;for(const n of e)null!=n&&(t=M(t,n));return t}const N=1024,B=1024*N,F=/[^\u0000-\u007F]/;function G(e){return F.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length}function H(e,t){const n=$();let r;return n.Zone&&"function"==typeof n.Zone.__symbol__&&(r=e[n.Zone.__symbol__(t)]),r||(r=e[t]),r}function z(e,t){return H($(),"setTimeout")(j(e),t)}function W(e){H($(),"clearTimeout")(e)}function V(e,t){return H($(),"setInterval")(j(e),t)}function Z(e){H($(),"clearInterval")(e)}function J(){}function K(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);const r=Y(Object.prototype),o=Y(Array.prototype),i=Y(Object.getPrototypeOf(e)),s=Y(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),o(),i(),s()}}function Y(e){const t=e,n=t.toJSON;return n?(delete t.toJSON,()=>{t.toJSON=n}):J}const X=220*N,Q="$",ee=3;function te(e,t=X){const n=Y(Object.prototype),r=Y(Array.prototype),o=[],i=new WeakMap,s=ne(e,Q,void 0,o,i),a=JSON.stringify(s);let c=a?a.length:0;if(!(c>t)){for(;o.length>0&&c<t;){const n=o.shift();let r=0;if(Array.isArray(n.source))for(let s=0;s<n.source.length;s++){const a=ne(n.source[s],n.path,s,o,i);if(c+=void 0!==a?JSON.stringify(a).length:4,c+=r,r=1,c>t){oe(t,"truncated",e);break}n.target[s]=a}else for(const s in n.source)if(Object.prototype.hasOwnProperty.call(n.source,s)){const a=ne(n.source[s],n.path,s,o,i);if(void 0!==a&&(c+=JSON.stringify(a).length+r+s.length+ee,r=1),c>t){oe(t,"truncated",e);break}n.target[s]=a}}return n(),r(),s}oe(t,"discarded",e)}function ne(e,t,n,r,o){const i=function(e){const t=e;if(t&&"function"==typeof t.toJSON)try{return t.toJSON()}catch(e){}return e}(e);if(!i||"object"!=typeof i)return function(e){if("bigint"==typeof e)return`[BigInt] ${e.toString()}`;if("function"==typeof e)return`[Function] ${e.name||"unknown"}`;if("symbol"==typeof e)return`[Symbol] ${e.description||e.toString()}`;return e}(i);const s=re(i);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;const a=e;if(o.has(a))return`[Reference seen at ${o.get(a)}]`;const c=void 0!==n?`${t}.${n}`:t,u=Array.isArray(i)?[]:{};return o.set(a,c),r.push({source:i,target:u,path:c}),u}function re(e){try{if(e instanceof Event)return{type:(t=e).type,isTrusted:t.isTrusted,currentTarget:t.currentTarget?re(t.currentTarget):null,target:t.target?re(t.target):null};if(e instanceof RegExp)return`[RegExp] ${e.toString()}`;const n=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(n&&n[1])return`[${n[1]}]`}catch(e){}var t;return"[Unserializable]"}function oe(e,t,n){_.warn(`The data provided has been ${t} as it is over the limit of ${e} characters:`,n)}class ie{constructor(e){this.onFirstSubscribe=e,this.observers=[]}subscribe(e){return this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:()=>{this.observers=this.observers.filter((t=>e!==t)),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}}notify(e){this.observers.forEach((t=>t(e)))}}function se(...e){return new ie((t=>{const n=e.map((e=>e.subscribe((e=>t.notify(e)))));return()=>n.forEach((e=>e.unsubscribe()))}))}function ae(e,t,n){const r={...e};for(const[e,{required:o,type:i}]of Object.entries(t))"string"!==i||ce(r[e])||(r[e]=String(r[e])),o&&ce(r[e])&&_.warn(`The property ${e} of ${n} is required; context will not be sent to the intake.`);return r}function ce(e){return null==e||""===e}function ue(e="",{propertiesConfig:t={}}={}){let n={};const r=new ie,o={getContext:()=>D(n),setContext:i=>{!function(e){const t="object"===q(e);return t||_.error("Unsupported context:",e),t}(i)?o.clearContext():n=te(ae(i,t,e)),r.notify()},setContextProperty:(o,i)=>{n=te(ae({...n,[o]:i},t,e)),r.notify()},removeContextProperty:o=>{delete n[o],ae(n,t,e),r.notify()},clearContext:()=>{n={},r.notify()},changeObservable:r};return o}const le={GRANTED:"granted",NOT_GRANTED:"not-granted"};function de(e,t,n,r,o){return fe(e,t,[n],r,o)}function fe(e,t,n,r,{once:o,capture:i,passive:s}={}){const a=j((t=>{(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(o&&d(),r(t))})),c=s?{capture:i,passive:s}:i,u=window.EventTarget&&t instanceof EventTarget?window.EventTarget.prototype:t,l=H(u,"addEventListener");function d(){const e=H(u,"removeEventListener");n.forEach((n=>e.call(t,n,a,c)))}return n.forEach((e=>l.call(t,e,a,c))),{stop:d}}function pe(e,t){return Object.keys(e).some((n=>e[n]===t))}function he(e){return 0===Object.keys(e).length}const me="_dd_c",ge=[];function ye(e,t,n,r){const o=function(e,t){return`${me}_${e}_${t}`}(n,r);ge.push(de(e,window,"storage",(({key:e})=>{o===e&&t.setContext(s())}))),t.changeObservable.subscribe((function(){localStorage.setItem(o,JSON.stringify(t.getContext()))}));const i=U(s(),t.getContext());function s(){const e=localStorage.getItem(o);return e?JSON.parse(e):{}}he(i)||t.setContext(i)}const ve="?";function be(e){const t=[];let n=Ce(e,"stack");const r=String(e);return n&&n.startsWith(r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach((e=>{const n=function(e){const t=Se.exec(e);if(!t)return;const n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),o=_e.exec(t[2]);r&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]);return{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||ve,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){const t=Ee.exec(e);if(!t)return;return{args:[],column:t[3]?+t[3]:void 0,func:ve,line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){const t=ke.exec(e);if(!t)return;return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||ve,line:+t[3],url:t[2]}}(e)||function(e){const t=Le.exec(e);if(!t)return;const n=t[3]&&t[3].indexOf(" > eval")>-1,r=Oe.exec(t[3]);n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0);return{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||ve,line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func=ve),t.push(n))})),{message:Ce(e,"message"),name:Ce(e,"name"),stack:t}}const we="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",xe="(?::(\\d+))",Se=new RegExp(`^\\s*at (.*?) ?\\(${we}${xe}?${xe}?\\)?\\s*$`,"i"),_e=new RegExp(`\\((\\S*)${xe}${xe}\\)`);const Ee=new RegExp(`^\\s*at ?${we}${xe}?${xe}??\\s*$`,"i");const ke=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;const Le=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle|\[wasm code\])(?::(\d+))?(?::(\d+))?\s*$/i,Oe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Ce(e,t){if("object"!=typeof e||!e||!(t in e))return;const n=e[t];return"string"==typeof n?n:void 0}function Te(e,t,n,r){if(void 0===t)return;const{name:o,message:i}=function(e){let t,n;"[object String]"==={}.toString.call(e)&&([,t,n]=Re.exec(e));return{name:t,message:n}}(e);return{name:o,message:i,stack:[{url:t,column:r,line:n}]}}const Re=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function je(e){const t=new Error(e);let n;return t.name="HandlingStack",P((()=>{const e=be(t);e.stack=e.stack.slice(2),n=Pe(e)})),n}function Pe(e){let t=Ae(e);return e.stack.forEach((e=>{const n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?`(${e.args.join(", ")})`:"",o=e.line?`:${e.line}`:"",i=e.line&&e.column?`:${e.column}`:"";t+=`\n  at ${n}${r} @ ${e.url}${o}${i}`})),t}function Ae(e){return`${e.name||"Error"}: ${e.message}`}const Ie="No stack, consider using an instance of Error";function $e({stackTrace:e,originalError:t,handlingStack:n,componentStack:r,startClocks:o,nonErrorPrefix:i,useFallbackStack:s=!0,source:a,handling:c}){const u=Ue(t);return!e&&u&&(e=be(t)),{startClocks:o,source:a,handling:c,handlingStack:n,componentStack:r,originalError:t,type:e?e.name:void 0,message:qe(e,u,i,t),stack:e?Pe(e):s?Ie:void 0,causes:u?Ne(t,a):void 0,fingerprint:Me(t),context:De(t)}}function qe(e,t,n,r){return(null==e?void 0:e.message)&&(null==e?void 0:e.name)?e.message:t?"Empty message":`${n} ${K(te(r))}`}function Me(e){return Ue(e)&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function De(e){if(null!==e&&"object"==typeof e&&"dd_context"in e)return e.dd_context}function Ue(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}function Ne(e,t){let n=e;const r=[];for(;Ue(null==n?void 0:n.cause)&&r.length<10;){const e=be(n.cause);r.push({message:n.cause.message,source:t,type:null==e?void 0:e.name,stack:e&&Pe(e)}),n=n.cause}return r.length?r:void 0}var Be;!function(e){e.PROFILING="profiling",e.TRACK_INTAKE_REQUESTS="track_intake_requests",e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.DOM_MUTATION_IGNORING="dom_mutation_ignoring"}(Be||(Be={}));const Fe=new Set;function Ge(e){Array.isArray(e)&&e.filter((e=>pe(Be,e))).forEach((e=>{Fe.add(e)}))}function He(){return Fe}const ze="datad0g.com",We="dd0g-gov.com",Ve="datadoghq.com",Ze="pci.browser-intake-datadoghq.com",Je=["ddsource","ddtags"],Ke=1e3,Ye=60*Ke,Xe=60*Ye,Qe=365*(24*Xe);function et(){return(new Date).getTime()}function tt(){return et()}function nt(){return performance.now()}function rt(){return{relative:nt(),timeStamp:tt()}}function ot(e,t){return e+t}function it(e){return e-at()}let st;function at(){return void 0===st&&(st=performance.timing.navigationStart),st}function ct(e,t){const n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}function ut(e){return 0!==e&&100*Math.random()<=e}function lt(){var e;const t=window.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:null===(e=t.connection)||void 0===e?void 0:e.effectiveType}}function dt(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}const ft=500;function pt(){const e=[];return{add:t=>{e.push(t)>ft&&e.splice(0,1)},remove:t=>{dt(e,t)},drain:t=>{e.forEach((e=>e(t))),e.length=0}}}const ht={log:"log",configuration:"configuration",usage:"usage"},mt=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],gt=["ddog-gov.com"];let yt=pt(),vt=e=>{yt.add((()=>vt(e)))};function bt(e,t){let n;const r=new ie,o=new Set,i=!gt.includes(t.site)&&ut(t.telemetrySampleRate),s={[ht.log]:i,[ht.configuration]:i&&ut(t.telemetryConfigurationSampleRate),[ht.usage]:i&&ut(t.telemetryUsageSampleRate)},a={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self};return vt=i=>{const c=K(i);if(s[i.type]&&o.size<t.maxTelemetryEventsPerPage&&!o.has(c)){const t=function(e,t,r){return U({type:"telemetry",date:tt(),service:e,version:"6.8.0",source:"browser",_dd:{format_version:2},telemetry:U(t,{runtime_env:r,connectivity:lt(),sdk_setup:"npm"}),experimental_features:Array.from(He())},void 0!==n?n():{})}(e,i,a);r.notify(t),ct("telemetry",t),o.add(c)}},C=xt,{setContextProvider:e=>{n=e},observable:r,enabled:i}}function wt(e,t){I(b.debug,e,t),vt({type:ht.log,message:e,status:"debug",...t})}function xt(e,t){vt({type:ht.log,status:"error",...St(e),...t})}function St(e){if(Ue(e)){const t=be(e);return{error:{kind:t.name,stack:Pe(_t(t))},message:t.message}}return{error:{stack:Ie},message:`Uncaught ${K(e)}`}}function _t(e){return e.stack=e.stack.filter((e=>!e.url||mt.some((t=>e.url.startsWith(t))))),e}function Et(e,t){t.silentMultipleInit||_.error(`${e} is already initialized.`)}const kt={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Lt(e,t,n){const r=n.getHandler(),o=Array.isArray(r)?r:[r];return Ct[e]>=Ct[n.getLevel()]&&o.includes(t)}const Ot={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},Ct={[Ot.ok]:0,[Ot.debug]:1,[Ot.info]:2,[Ot.notice]:4,[Ot.warn]:5,[Ot.error]:6,[Ot.critical]:7,[Ot.alert]:8,[Ot.emerg]:9};function Tt(e,{includeMessage:t=!1}={}){return{stack:e.stack,kind:e.type,message:t?e.message:void 0,causes:e.causes,fingerprint:e.fingerprint,handling:e.handling}}var Rt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const jt={console:"console",http:"http",silent:"silent"},Pt=Object.keys(Ot);class At{constructor(e,t,n=jt.http,r=Ot.debug,o={}){this.handleLogStrategy=e,this.handlerType=n,this.level=r,this.contextManager=ue("logger"),this.contextManager.setContext(o),t&&this.contextManager.setContextProperty("logger",{name:t})}logImplementation(e,t,n=Ot.info,r,o){const i=te(t);let s;if(null!=r){s=U({error:Tt($e({originalError:r,nonErrorPrefix:"Provided",source:kt.LOGGER,handling:"handled",startClocks:rt()}),{includeMessage:!0})},i)}else s=i;this.handleLogStrategy({message:te(e),context:s,status:n},this,o)}log(e,t,n=Ot.info,r){let o;Lt(n,jt.http,this)&&(o=je("log")),this.logImplementation(e,t,n,r,o)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,t){this.contextManager.setContextProperty(e,t)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}}function It(e){return function(t,n,r){let o;Lt(e,jt.http,this)&&(o=je("log")),this.logImplementation(t,n,e,r,o)}}function $t(){const e=$().DatadogEventBridge;if(e)return{getCapabilities(){var t;return JSON.parse((null===(t=e.getCapabilities)||void 0===t?void 0:t.call(e))||"[]")},getPrivacyLevel(){var t;return null===(t=e.getPrivacyLevel)||void 0===t?void 0:t.call(e)},getAllowedWebViewHosts:()=>JSON.parse(e.getAllowedWebViewHosts()),send(t,n,r){const o=r?{id:r}:void 0;e.send(JSON.stringify({eventType:t,event:n,view:o}))}}}function qt(e){var t;void 0===e&&(e=null===(t=$().location)||void 0===t?void 0:t.hostname);const n=$t();return!!n&&n.getAllowedWebViewHosts().some((t=>e===t||e.endsWith(`.${t}`)))}function Mt(e,t,n,{computeHandlingStack:r}={}){let o=e[t];if("function"!=typeof o){if(!(t in e)||!t.startsWith("on"))return{stop:J};o=J}let i=!1;const s=function(){if(i)return o.apply(this,arguments);const e=Array.from(arguments);let t;P(n,null,[{target:this,parameters:e,onPostCall:e=>{t=e},handlingStack:r?je("instrumented method"):void 0}]);const s=o.apply(this,e);return t&&P(t,null,[s]),s};return e[t]=s,{stop:()=>{i=!0,e[t]===s&&(e[t]=o)}}}function Dt(e){return Ut(e,location.href).href}function Ut(e,t){const n=function(){if(void 0===Bt)try{const e=new Nt("http://test/path");Bt="http://test/path"===e.href}catch(e){Bt=!1}return Bt?Nt:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(n){throw new Error(`Failed to construct URL: ${String(n)} ${K({url:e,base:t})}`)}if(void 0===t&&!/:/.test(e))throw new Error(`Invalid URL: '${e}'`);let r=document;const o=r.createElement("a");if(void 0!==t){r=document.implementation.createHTMLDocument("");const e=r.createElement("base");e.href=t,r.head.appendChild(e),r.body.appendChild(o)}return o.href=e,o}Rt([function(e,t,n){const r=n.value;n.value=function(...e){return(C?j(r):r).apply(this,e)}}],At.prototype,"logImplementation",null),At.prototype.ok=It(Ot.ok),At.prototype.debug=It(Ot.debug),At.prototype.info=It(Ot.info),At.prototype.notice=It(Ot.notice),At.prototype.warn=It(Ot.warn),At.prototype.error=It(Ot.error),At.prototype.critical=It(Ot.critical),At.prototype.alert=It(Ot.alert),At.prototype.emerg=It(Ot.emerg);const Nt=URL;let Bt,Ft;function Gt(){return Ft||(Ft=new ie((e=>{if(!window.fetch)return;const{stop:t}=Mt(window,"fetch",(t=>function({parameters:e,onPostCall:t,handlingStack:n},r){const[o,i]=e;let s=i&&i.method;void 0===s&&o instanceof Request&&(s=o.method);const a=void 0!==s?String(s).toUpperCase():"GET",c=o instanceof Request?o.url:Dt(String(o)),u=rt(),l={state:"start",init:i,input:o,method:a,startClocks:u,url:c,handlingStack:n};r.notify(l),e[0]=l.input,e[1]=l.init,t((e=>function(e,t,n){const r=n;function o(t){r.state="resolve",Object.assign(r,t),e.notify(r)}t.then(j((e=>{o({response:e,responseType:e.type,status:e.status,isAborted:!1})})),j((e=>{var t,n;o({status:0,isAborted:(null===(n=null===(t=r.init)||void 0===t?void 0:t.signal)||void 0===n?void 0:n.aborted)||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})})))}(r,e,l)))}(t,e)),{computeHandlingStack:!0});return t}))),Ft}function Ht(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,Ht)}const zt=/([\w-]+)\s*=\s*([^;]+)/g;function Wt(e,t,n=""){const r=e.charCodeAt(t-1),o=r>=55296&&r<=56319?t+1:t;return e.length<=o?e:`${e.slice(0,o)}${n}`}let Vt,Zt,Jt;function Kt(){return null!=Vt?Vt:Vt=function(e=window){var t;const n=e.navigator.userAgent;if(e.chrome||/HeadlessChrome/.test(n))return 0;if(0===(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))||/safari/i.test(n)&&!/chrome|android/i.test(n))return 1;return 2}()}function Yt(e,t,n=0,r){const o=new Date;o.setTime(o.getTime()+n);const i=`expires=${o.toUTCString()}`,s=r&&r.crossSite?"none":"strict",a=r&&r.domain?`;domain=${r.domain}`:"",c=r&&r.secure?";secure":"",u=r&&r.partitioned?";partitioned":"";document.cookie=`${e}=${t};${i};path=/;samesite=${s}${a}${c}${u}`}function Xt(e){return function(e,t){for(zt.lastIndex=0;;){const n=zt.exec(e);if(!n)break;if(n[1]===t)return n[2]}}(document.cookie,e)}function Qt(e){return Zt||(Zt=function(e){const t=new Map;for(zt.lastIndex=0;;){const n=zt.exec(e);if(!n)break;t.set(n[1],n[2])}return t}(document.cookie)),Zt.get(e)}function en(e,t){Yt(e,"",0,t)}const tn="_dd_s";function nn(e){return Object.values(e)}const rn=4*Xe,on=15*Ye,sn=Qe,an={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"},cn=/^([a-zA-Z]+)=([a-z0-9-]+)$/,un="&";const ln="1";function dn(e,t){const n={isExpired:ln};return t.trackAnonymousUser&&((null==e?void 0:e.anonymousId)?n.anonymousId=null==e?void 0:e.anonymousId:n.anonymousId=Ht()),n}function fn(e){return he(e)}function pn(e){return!fn(e)}function hn(e){return void 0!==e.isExpired||!((void 0===(t=e).created||et()-Number(t.created)<rn)&&(void 0===t.expire||et()<Number(t.expire)));var t}function mn(e){e.expire=String(et()+on)}function gn(e){return(t=e,Object.entries(t)).map((([e,t])=>"anonymousId"===e?`aid=${t}`:`${e}=${t}`)).join(un);var t}function yn(e){const t={};return function(e){return!!e&&(-1!==e.indexOf(un)||cn.test(e))}(e)&&e.split(un).forEach((e=>{const n=cn.exec(e);if(null!==n){const[,e,r]=n;"aid"===e?t.anonymousId=r:t[e]=r}})),t}const vn="_dd",bn="_dd_r",wn="_dd_l",xn="rum",Sn="logs";function _n(e){const t=function(e){const t={};t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===Jt){const e=`dd_site_test_${Ht()}`,t="test",n=window.location.hostname.split(".");let r=n.pop();for(;n.length&&!Xt(e);)r=`${n.pop()}.${r}`,Yt(e,t,Ke,{domain:r});en(e,{domain:r}),Jt=r}return Jt}());return t}(e);return function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{const t=`dd_cookie_test_${Ht()}`,n="test";Yt(t,n,Ye,e);const r=Xt(t)===n;return en(t,e),r}catch(e){return _.error(e),!1}}(t)?{type:an.COOKIE,cookieOptions:t}:void 0}function En(e,t){const n={isLockEnabled:0===Kt(),persistSession:n=>kn(t,e,n,on),retrieveSession:Ln,expireSession:n=>kn(t,e,dn(n,e),rn)};return function(e){if(!Qt(tn)){const t=Qt(vn),n=Qt(bn),r=Qt(wn),o={};t&&(o.id=t),r&&/^[01]$/.test(r)&&(o[Sn]=r),n&&/^[012]$/.test(n)&&(o[xn]=n),pn(o)&&(mn(o),e.persistSession(o))}}(n),n}function kn(e,t,n,r){Yt(tn,gn(n),t.trackAnonymousUser?sn:r,e)}function Ln(){return yn(Xt(tn))}const On="_dd_test_";function Cn(){try{const e=Ht(),t=`${On}${e}`;localStorage.setItem(t,e);const n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:an.LOCAL_STORAGE}:void 0}catch(e){return}}function Tn(e){return{isLockEnabled:!1,persistSession:Rn,retrieveSession:jn,expireSession:t=>function(e,t){Rn(dn(e,t))}(t,e)}}function Rn(e){localStorage.setItem(tn,gn(e))}function jn(){return yn(localStorage.getItem(tn))}const Pn=10,An=100,In=[];let $n;function qn(e,t,n=0){var r;const{isLockEnabled:o,persistSession:i,expireSession:s}=t,a=e=>i({...e,lock:u}),c=()=>{const e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if($n||($n=e),e!==$n)return void In.push(e);if(o&&n>=An)return void Dn(t);let u,l=c();if(o){if(l.lock)return void Mn(e,t,n);if(u=Ht(),a(l.session),l=c(),l.lock!==u)return void Mn(e,t,n)}let d=e.process(l.session);if(o&&(l=c(),l.lock!==u))Mn(e,t,n);else{if(d&&(hn(d)?s(d):(mn(d),o?a(d):i(d))),o&&(!d||!hn(d))){if(l=c(),l.lock!==u)return void Mn(e,t,n);i(l.session),d=l.session}null===(r=e.after)||void 0===r||r.call(e,d||l.session),Dn(t)}}function Mn(e,t,n){z((()=>{qn(e,t,n+1)}),Pn)}function Dn(e){$n=void 0;const t=In.shift();t&&qn(t,e)}const Un=Ke;function Nn(e){switch(e.sessionPersistence){case an.COOKIE:return _n(e);case an.LOCAL_STORAGE:return Cn();case void 0:{let t=_n(e);return!t&&e.allowFallbackToLocalStorage&&(t=Cn()),t}default:_.error(`Invalid session persistence '${String(e.sessionPersistence)}'`)}}function Bn(e,t,n,r){const o=new ie,i=new ie,s=new ie,a=e.type===an.COOKIE?En(t,e.cookieOptions):Tn(t),{expireSession:c}=a,u=V((function(){qn({process:e=>hn(e)?dn(e,t):void 0,after:p},a)}),Un);let l;h();const{throttled:d,cancel:f}=function(e,t,n){const r=!n||void 0===n.leading||n.leading,o=!n||void 0===n.trailing||n.trailing;let i,s,a=!1;return{throttled:(...n)=>{a?i=n:(r?e(...n):i=n,a=!0,s=z((()=>{o&&i&&e(...i),a=!1,i=void 0}),t))},cancel:()=>{W(s),a=!1,i=void 0}}}((()=>{qn({process:e=>{if(fn(e))return;const t=p(e);return function(e){if(fn(e))return!1;const{trackingType:t,isTracked:o}=r(e[n]);e[n]=t,delete e.isExpired,o&&!e.id&&(e.id=Ht(),e.created=String(et()))}(t),t},after:e=>{pn(e)&&!m()&&function(e){l=e,o.notify()}(e),l=e}},a)}),Un);function p(e){return hn(e)&&(e=dn(e,t)),m()&&(!function(e){return l.id!==e.id||l[n]!==e[n]}(e)?(s.notify({previousState:l,newState:e}),l=e):(l=dn(l,t),i.notify())),e}function h(){qn({process:e=>{if(fn(e))return dn(e,t)},after:e=>{l=e}},a)}function m(){return void 0!==l[n]}return{expandOrRenewSession:d,expandSession:function(){qn({process:e=>m()?p(e):void 0},a)},getSession:()=>l,renewObservable:o,expireObservable:i,sessionStateUpdateObservable:s,restartSession:h,expire:()=>{f(),c(l),p(dn(l,t))},stop:()=>{Z(u)},updateSessionState:function(e){qn({process:t=>({...t,...e}),after:p},a)}}}function Fn(e,t,n){const r=function(e,t){const n=`/api/v2/${t}`,r=e.proxy;if("string"==typeof r){const e=Dt(r);return t=>`${e}?ddforward=${encodeURIComponent(`${n}?${t}`)}`}if("function"==typeof r)return e=>r({path:n,parameters:e});const o=function(e,t){const{site:n=Ve,internalAnalyticsSubdomain:r}=t;if("logs"===e&&t.usePciIntake&&n===Ve)return Ze;if(r&&n===Ve)return`${r}.${Ve}`;if(n===We)return`http-intake.logs.${n}`;const o=n.split("."),i=o.pop();return`browser-intake-${o.join("-")}.${i}`}(t,e);return e=>`https://${o}${n}?${e}`}(e,t);return{build(o,i){const s=function({clientToken:e,internalAnalyticsSubdomain:t},n,r,o,{retry:i,encoding:s}){const a=["sdk_version:6.8.0",`api:${o}`].concat(r);i&&a.push(`retry_count:${i.count}`,`retry_after:${i.lastFailureStatus}`);const c=["ddsource=browser",`ddtags=${encodeURIComponent(a.join(","))}`,`dd-api-key=${e}`,`dd-evp-origin-version=${encodeURIComponent("6.8.0")}`,"dd-evp-origin=browser",`dd-request-id=${Ht()}`];s&&c.push(`dd-evp-encoding=${s}`);"rum"===n&&c.push(`batch_time=${tt()}`);t&&c.reverse();return c.join("&")}(e,t,n,o,i);return r(s)},tags:n,urlPrefix:r(""),trackType:t}}const Gn=200;function Hn(e,t){const n=Gn-e.length-1;(t.length>n||function(e){if(!function(){try{return new RegExp("[\\p{Ll}]","u"),!0}catch(e){return!1}}())return!1;return new RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(e)}(t))&&_.warn(`${e} value doesn't meet tag requirements and will be sanitized. ${L} ${E}/getting_started/tagging/#defining-tags`);return`${e}:${t.replace(/,/g,"_")}`}function zn(e){const t=e.site||Ve,n=function(e){const{env:t,service:n,version:r,datacenter:o}=e,i=[];return t&&i.push(Hn("env",t)),n&&i.push(Hn("service",n)),r&&i.push(Hn("version",r)),o&&i.push(Hn("datacenter",o)),i}(e),r=function(e,t){return{logsEndpointBuilder:Fn(e,"logs",t),rumEndpointBuilder:Fn(e,"rum",t),profilingEndpointBuilder:Fn(e,"profile",t),sessionReplayEndpointBuilder:Fn(e,"replay",t)}}(e,n),o=function(e,t){if(!e.replica)return;const n={...e,site:Ve,clientToken:e.replica.clientToken},r={logsEndpointBuilder:Fn(n,"logs",t),rumEndpointBuilder:Fn(n,"rum",t)};return{applicationId:e.replica.applicationId,...r}}(e,n);return{replica:o,site:t,...r}}function Wn(e,t){return null==e||"string"==typeof e||(_.error(`${t} must be defined as a string`),!1)}function Vn(e,t){return!!(void 0===e||(n=e,function(e){return"number"==typeof e}(n)&&n>=0&&n<=100))||(_.error(`${t} Sample Rate should be a number between 0 and 100`),!1);var n}function Zn(e){var t,n,r,o,i,s;if(e&&e.clientToken){if((!(a=e.site)||"string"!=typeof a||/(datadog|ddog|datad0g|dd0g)/.test(a)||(_.error(`Site should be a valid Datadog site. ${L} ${E}/getting_started/site/.`),0))&&Vn(e.sessionSampleRate,"Session")&&Vn(e.telemetrySampleRate,"Telemetry")&&Vn(e.telemetryConfigurationSampleRate,"Telemetry Configuration")&&Vn(e.telemetryUsageSampleRate,"Telemetry Usage")&&Wn(e.version,"Version")&&Wn(e.env,"Env")&&Wn(e.service,"Service")){var a;if(void 0===e.trackingConsent||pe(le,e.trackingConsent))return{beforeSend:e.beforeSend&&O(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:Nn(e),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,telemetryUsageSampleRate:null!==(o=e.telemetryUsageSampleRate)&&void 0!==o?o:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!==(i=e.trackingConsent)&&void 0!==i?i:le.GRANTED,trackAnonymousUser:null===(s=e.trackAnonymousUser)||void 0===s||s,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16*N,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*Ke,batchMessagesLimit:50,messageBytesLimit:256*N,...zn(e)};_.error('Tracking Consent should be either "granted" or "not-granted"')}}else _.error("Client Token is not configured, we will not send any data.")}const Jn={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Kn(e,t){const n=[];t.includes(Jn.cspViolation)&&n.push(function(e){return new ie((t=>{const{stop:n}=de(e,document,"securitypolicyviolation",(e=>{t.notify(function(e){const t=`'${e.blockedURI}' blocked by '${e.effectiveDirective}' directive`;return Yn({type:e.effectiveDirective,message:`${Jn.cspViolation}: ${t}`,originalError:e,csp:{disposition:e.disposition},stack:Xn(e.effectiveDirective,e.originalPolicy?`${t} of the policy "${Wt(e.originalPolicy,100,"...")}"`:"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}(e))}));return n}))}(e));const r=t.filter((e=>e!==Jn.cspViolation));return r.length&&n.push(function(e){return new ie((t=>{if(!window.ReportingObserver)return;const n=j(((e,n)=>e.forEach((e=>t.notify(function(e){const{type:t,body:n}=e;return Yn({type:n.id,message:`${t}: ${n.message}`,originalError:e,stack:Xn(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)})}(e)))))),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),()=>{r.disconnect()}}))}(r)),se(...n)}function Yn(e){return{startClocks:rt(),source:kt.REPORT,handling:"unhandled",...e}}function Xn(e,t,n,r,o){return n?Pe({name:e,message:t,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=o?o:void 0}]}):void 0}const Qn=32*N;function er(e,t,n){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every((e=>t.includes(e)))?"all"===e?t:function(e){const t=new Set;return e.forEach((e=>t.add(e))),Array.from(t)}(e):void _.error(`${n} should be "all" or an array with allowed values "${t.join('", "')}"`)}function tr(e,t,n){const r=pt();let o,i;const s=t.observable.subscribe(a);function a(){if(!i||!o||!t.isGranted())return;s.unsubscribe();const e=n(o,i);r.drain(e)}return{init(e){if(!e)return void _.error("Missing configuration");if(Ge(e.enableExperimentalFeatures),qt()&&(e=function(e){return{...e,clientToken:"empty"}}(e)),o=e,i)return void Et("DD_LOGS",e);const n=function(e){!0===e.usePciIntake&&e.site&&"datadoghq.com"!==e.site&&_.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");const t=Zn(e),n=er(e.forwardConsoleLogs,nn(b),"Forward Console Logs"),r=er(e.forwardReports,nn(Jn),"Forward Reports");if(t&&n&&r)return e.forwardErrorsToLogs&&!n.includes(b.error)&&n.push(b.error),{forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:Qn,...t}}(e);n&&(i=n,Gt().subscribe(J),t.tryToInit(n.trackingConsent),a())},get initConfiguration(){return o},getInternalContext:J,handleLog(t,n,o,i=e(),s=tt()){r.add((e=>e.handleLog(t,n,o,i,s)))}}}const nr="logs";const rr={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};const or="datadog-synthetics-public-id",ir="datadog-synthetics-result-id",sr="datadog-synthetics-injects-rum";function ar(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Qt(sr))}function cr(){const e=window._DATADOG_SYNTHETICS_PUBLIC_ID||Qt(or);return"string"==typeof e?e:void 0}function ur(){const e=window._DATADOG_SYNTHETICS_RESULT_ID||Qt(ir);return"string"==typeof e?e:void 0}const lr=1/0,dr=Ye;let fr=null;const pr=new Set;function hr({expireDelay:e,maxEntries:t}){let n=[];fr||(fr=V((()=>{pr.forEach((e=>e()))}),dr));const r=()=>{const t=nt()-e;for(;n.length>0&&n[n.length-1].endTime<t;)n.pop()};return pr.add(r),{add:function(e,r){const o={value:e,startTime:r,endTime:lr,remove:()=>{dt(n,o)},close:e=>{o.endTime=e}};return t&&n.length>=t&&n.pop(),n.unshift(o),o},find:function(e=lr,t={returnInactive:!1}){for(const r of n)if(r.startTime<=e){if(t.returnInactive||e<=r.endTime)return r.value;break}},closeActive:function(e){const t=n[0];t&&t.endTime===lr&&t.close(e)},findAll:function(e=lr,t=0){const r=ot(e,t);return n.filter((t=>t.startTime<=r&&e<=t.endTime)).map((e=>e.value))},reset:function(){n=[]},stop:function(){pr.delete(r),0===pr.size&&fr&&(Z(fr),fr=null)}}}const mr=Ye,gr=rn;let yr=[];function vr(e,t,n,r){const o=new ie,i=new ie,s=Bn(e.sessionStoreStrategyType,e,t,n);yr.push((()=>s.stop()));const a=hr({expireDelay:gr});function c(){return{id:s.getSession().id,trackingType:s.getSession()[t],isReplayForced:!!s.getSession().forcedReplay,anonymousId:s.getSession().anonymousId}}return yr.push((()=>a.stop())),s.renewObservable.subscribe((()=>{a.add(c(),nt()),o.notify()})),s.expireObservable.subscribe((()=>{i.notify(),a.closeActive(nt())})),s.expandOrRenewSession(),a.add(c(),[0,at()][0]),r.observable.subscribe((()=>{r.isGranted()?s.expandOrRenewSession():s.expire()})),function(e,t){const{stop:n}=fe(e,window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0});yr.push(n)}(e,(()=>{r.isGranted()&&s.expandOrRenewSession()})),function(e,t){const n=()=>{"visible"===document.visibilityState&&t()},{stop:r}=de(e,document,"visibilitychange",n);yr.push(r);const o=V(n,mr);yr.push((()=>{Z(o)}))}(e,(()=>s.expandSession())),function(e,t){const{stop:n}=de(e,window,"resume",t,{capture:!0});yr.push(n)}(e,(()=>s.restartSession())),{findSession:(e,t)=>a.find(e,t),renewObservable:o,expireObservable:i,sessionStateUpdateObservable:s.sessionStateUpdateObservable,expire:s.expire,updateSessionState:s.updateSessionState}}const br="logs";function wr(e,t){const n=vr(e,br,(t=>function(e,t){const n=function(e){return"0"===e||"1"===e}(t)?t:xr(e);return{trackingType:n,isTracked:"1"===n}}(e,t)),t);return{findTrackedSession:(e,t={returnInactive:!1})=>{const r=n.findSession(e,t);return r&&"1"===r.trackingType?{id:r.id,anonymousId:r.anonymousId}:void 0},expireObservable:n.expireObservable}}function xr(e){return ut(e.sessionSampleRate)?"1":"0"}function Sr(e,t,n,r,o,i){const s=Pt.concat(["custom"]),a={};s.forEach((e=>{a[e]=function(e,t,n){let r=0,o=!1;return{isLimitReached(){if(0===r&&z((()=>{r=0}),Ye),r+=1,r<=t||o)return o=!1,!1;if(r===t+1){o=!0;try{n({message:`Reached max number of ${e}s by minute: ${t}`,source:kt.AGENT,startClocks:rt()})}finally{o=!1}}return!0}}}(e,t.eventRateLimiterThreshold,i)})),n.subscribe(0,(({rawLogsEvent:i,messageContext:s,savedCommonContext:c,domainContext:u})=>{var l,d;const f=it(i.date),p=e.findTrackedSession(f);if(!e.findTrackedSession(f,{returnInactive:!0}))return;const h=c||o();let m;!he(h.account)&&h.account.id&&(m=h.account),p&&p.anonymousId&&!h.user.anonymous_id&&(h.user.anonymous_id=p.anonymousId);const g=r.triggerHook(0,{startTime:f}),y=U({service:t.service,session_id:p?p.id:void 0,session:p?{id:p.id}:void 0,usr:he(h.user)?void 0:h.user,account:m,view:h.view},h.context,g,i,s);!1===(null===(l=t.beforeSend)||void 0===l?void 0:l.call(t,y,u))||y.origin!==kt.AGENT&&(null!==(d=a[y.status])&&void 0!==d?d:a.custom).isLimitReached()||n.notify(1,y)}))}let _r={};function Er(e){return se(...e.map((e=>(_r[e]||(_r[e]=function(e){return new ie((t=>{const n=w[e];return w[e]=(...r)=>{n.apply(console,r);const o=je("console error");P((()=>{t.notify(function(e,t,n){const r=e.map((e=>function(e){if("string"==typeof e)return te(e);if(Ue(e))return Ae(be(e));return K(te(e),void 0,2)}(e))).join(" ");if(t===b.error){const o=$e({originalError:e.find(Ue),handlingStack:n,startClocks:rt(),source:kt.CONSOLE,handling:"handled",nonErrorPrefix:"Provided",useFallbackStack:!1});return o.message=r,{api:t,message:r,handlingStack:n,error:o}}return{api:t,message:r,error:void 0,handlingStack:n}}(r,e,o))}))},()=>{w[e]=n}}))}(e)),_r[e]))))}const kr={[b.log]:Ot.info,[b.debug]:Ot.debug,[b.info]:Ot.info,[b.warn]:Ot.warn,[b.error]:Ot.error};let Lr;const Or=new WeakMap;function Cr(e){return Lr||(Lr=function(e){return new ie((t=>{const{stop:n}=Mt(XMLHttpRequest.prototype,"open",Tr),{stop:r}=Mt(XMLHttpRequest.prototype,"send",(n=>{!function({target:e,handlingStack:t},n,r){const o=Or.get(e);if(!o)return;const i=o;i.state="start",i.startClocks=rt(),i.isAborted=!1,i.xhr=e,i.handlingStack=t;let s=!1;const{stop:a}=Mt(e,"onreadystatechange",(()=>{e.readyState===XMLHttpRequest.DONE&&c()})),c=()=>{if(u(),a(),s)return;s=!0;const t=o;var n,c;t.state="complete",t.duration=(n=i.startClocks.timeStamp,tt()-n),t.status=e.status,r.notify((c=t,{...c}))},{stop:u}=de(n,e,"loadend",c);r.notify(i)}(n,e,t)}),{computeHandlingStack:!0}),{stop:o}=Mt(XMLHttpRequest.prototype,"abort",Rr);return()=>{n(),r(),o()}}))}(e)),Lr}function Tr({target:e,parameters:[t,n]}){Or.set(e,{state:"open",method:String(t).toUpperCase(),url:Dt(String(n))})}function Rr({target:e}){const t=Or.get(e);t&&(t.isAborted=!0)}function jr(e){return e>=500}function Pr(e,t){if(!e.forwardErrorsToLogs)return{stop:J};const n=Cr(e).subscribe((e=>{"complete"===e.state&&o("xhr",e)})),r=Gt().subscribe((e=>{"resolve"===e.state&&o("fetch",e)}));function o(n,r){var o;function i(e){const o={isAborted:r.isAborted,handlingStack:r.handlingStack};t.notify(0,{rawLogsEvent:{message:`${Ir(n)} error ${r.method} ${r.url}`,date:r.startClocks.timeStamp,error:{stack:e||"Failed to load",handling:void 0},http:{method:r.method,status_code:r.status,url:r.url},status:Ot.error,origin:kt.NETWORK},domainContext:o})}o=r.url,Je.every((e=>o.includes(e)))||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!jr(r.status)||("xhr"in r?function(e,t,n){"string"==typeof e.response?n(Ar(e.response,t)):n(e.response)}(r.xhr,e,i):r.response?function(e,t,n){const r=function(e){try{return e.clone()}catch(e){return}}(e);r&&r.body?window.TextDecoder?function(e,t,n){!function(e,t,n){const r=e.getReader(),o=[];let i=0;function s(){let e,s;if(r.cancel().catch(J),n.collectStreamBody){let t;if(1===o.length)t=o[0];else{t=new Uint8Array(i);let e=0;o.forEach((n=>{t.set(n,e),e+=n.length}))}e=t.slice(0,n.bytesLimit),s=t.length>n.bytesLimit}t(void 0,e,s)}!function e(){r.read().then(j((t=>{t.done?s():(n.collectStreamBody&&o.push(t.value),i+=t.value.length,i>n.bytesLimit?s():e())})),j((e=>t(e))))}()}(e,((e,t,r)=>{if(e)n(e);else{let e=(new TextDecoder).decode(t);r&&(e+="..."),n(void 0,e)}}),{bytesLimit:t,collectStreamBody:!0})}(r.body,t.requestErrorResponseLengthLimit,((e,t)=>{n(e?`Unable to retrieve response: ${e}`:t)})):r.text().then(j((e=>n(Ar(e,t)))),j((e=>n(`Unable to retrieve response: ${e}`)))):n()}(r.response,e,i):r.error&&function(e,t,n){n(Ar(Pe(be(e)),t))}(r.error,e,i))}return{stop:()=>{n.unsubscribe(),r.unsubscribe()}}}function Ar(e,t){return e.length>t.requestErrorResponseLengthLimit?`${e.substring(0,t.requestErrorResponseLengthLimit)}...`:e}function Ir(e){return"xhr"===e?"XHR":"Fetch"}function $r(e){const t=(t,n)=>{const r=$e({stackTrace:n,originalError:t,startClocks:rt(),nonErrorPrefix:"Uncaught",source:kt.SOURCE,handling:"unhandled"});e.notify(r)},{stop:n}=(r=t,Mt(window,"onerror",(({parameters:[e,t,n,o,i]})=>{let s;Ue(i)||(s=Te(e,t,n,o)),r(null!=i?i:e,s)})));var r;const{stop:o}=function(e){return Mt(window,"onunhandledrejection",(({parameters:[t]})=>{e(t.reason||"Empty reason")}))}(t);return{stop:()=>{n(),o()}}}const qr=class{constructor(){this.callbacks={}}notify(e,t){const n=this.callbacks[e];n&&n.forEach((e=>e(t)))}subscribe(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:()=>{this.callbacks[e]=this.callbacks[e].filter((e=>t!==e))}}}};function Mr(e){return{handleLog:function(t,n,r,o,i){const s=U(n.getContext(),t.context);if(Lt(t.status,jt.console,n)&&function({status:e,message:t},n){x[Dr[e]].call(w,t,n)}(t,s),Lt(t.status,jt.http,n)){const n={rawLogsEvent:{date:i||tt(),message:t.message,status:t.status,origin:kt.LOGGER},messageContext:s,savedCommonContext:o};r&&(n.domainContext={handlingStack:r}),e.notify(0,n)}}}}const Dr={[Ot.ok]:b.debug,[Ot.debug]:b.debug,[Ot.info]:b.info,[Ot.notice]:b.info,[Ot.warn]:b.warn,[Ot.error]:b.error,[Ot.critical]:b.error,[Ot.alert]:b.error,[Ot.emerg]:b.error};function Ur({encoder:e,request:t,flushController:n,messageBytesLimit:r}){let o={};const i=n.flushObservable.subscribe((n=>function(n){const r=nn(o).join("\n");o={};const i=(a=n.reason,nn(rr).includes(a)),s=i?t.sendOnExit:t.send;var a;if(i&&e.isAsync){const t=e.finishSync();t.outputBytesCount&&s(Nr(t));const n=[t.pendingData,r].filter(Boolean).join("\n");n&&s({data:n,bytesCount:G(n)})}else r&&e.write(e.isEmpty?r:`\n${r}`),e.finish((e=>{s(Nr(e))}))}(n)));function s(t,i){const s=K(t),a=e.estimateEncodedBytesCount(s);a>=r?_.warn(`Discarded a message whose size was bigger than the maximum allowed size ${r}KB. ${L} ${k}/#technical-limitations`):(function(e){return void 0!==e&&void 0!==o[e]}(i)&&function(t){const r=o[t];delete o[t];const i=e.estimateEncodedBytesCount(r);n.notifyAfterRemoveMessage(i)}(i),function(t,r,i){n.notifyBeforeAddMessage(r),void 0!==i?(o[i]=t,n.notifyAfterAddMessage()):e.write(e.isEmpty?t:`\n${t}`,(e=>{n.notifyAfterAddMessage(e-r)}))}(s,a,i))}return{flushController:n,add:s,upsert:s,stop:i.unsubscribe}}function Nr(e){let t;return t="string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),{data:t,bytesCount:e.outputBytesCount,encoding:e.encoding}}const Br=80*N,Fr=32,Gr=3*B,Hr=Ye,zr=Ke;function Wr(e,t,n,r,o){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?Zr(e,t,n,{onSuccess:()=>Jr(0,t,n,r,o),onFailure:()=>{t.queuedPayloads.enqueue(e),Vr(t,n,r,o)}}):t.queuedPayloads.enqueue(e)}function Vr(e,t,n,r){2===e.transportStatus&&z((()=>{Zr(e.queuedPayloads.first(),e,t,{onSuccess:()=>{e.queuedPayloads.dequeue(),e.currentBackoffTime=zr,Jr(1,e,t,n,r)},onFailure:()=>{e.currentBackoffTime=Math.min(Hr,2*e.currentBackoffTime),Vr(e,t,n,r)}})}),e.currentBackoffTime)}function Zr(e,t,n,{onSuccess:r,onFailure:o}){t.bandwidthMonitor.add(e),n(e,(n=>{t.bandwidthMonitor.remove(e),!function(e){return"opaque"!==e.type&&(0===e.status&&!navigator.onLine||408===e.status||429===e.status||jr(e.status))}(n)?(t.transportStatus=0,r()):(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o())}))}function Jr(e,t,n,r,o){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(o({message:`Reached max ${r} events size queued for upload: ${Gr/B}MiB`,source:kt.AGENT,startClocks:rt()}),t.queueFullReported=!0);const i=t.queuedPayloads;for(t.queuedPayloads=Kr();i.size()>0;)Wr(i.dequeue(),t,n,r,o)}function Kr(){const e=[];return{bytesCount:0,enqueue(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:()=>e[0],dequeue(){const t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:()=>e.length,isFull(){return this.bytesCount>=Gr}}}function Yr(e,t,n){const r={transportStatus:0,currentBackoffTime:zr,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=Br&&this.ongoingRequestCount<Fr},add(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:Kr(),queueFullReported:!1},o=(n,r)=>function(e,t,n,r){const o=function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&n.bytesCount<t;if(o){const t=e.build("fetch-keepalive",n);fetch(t,{method:"POST",body:n.data,keepalive:!0,mode:"cors"}).then(j((e=>null==r?void 0:r({status:e.status,type:e.type})))).catch(j((()=>Qr(e,n,r))))}else Qr(e,n,r)}(e,t,n,r);return{send:t=>{Wr(t,r,o,e.trackType,n)},sendOnExit:n=>{!function(e,t,n){const r=!!navigator.sendBeacon&&n.bytesCount<t;if(r)try{const t=e.build("beacon",n);if(navigator.sendBeacon(t,n.data))return}catch(e){!function(e){Xr||(Xr=!0,A(e))}(e)}Qr(e,n)}(e,t,n)}}}let Xr=!1;function Qr(e,t,n){const r=e.build("fetch",t);fetch(r,{method:"POST",body:t.data,mode:"cors"}).then(j((e=>null==n?void 0:n({status:e.status,type:e.type})))).catch(j((()=>null==n?void 0:n({status:0}))))}function eo({messagesLimit:e,bytesLimit:t,durationLimit:n,pageMayExitObservable:r,sessionExpireObservable:o}){const i=r.subscribe((e=>d(e.reason))),s=o.subscribe((()=>d("session_expire"))),a=new ie((()=>()=>{i.unsubscribe(),s.unsubscribe()}));let c,u=0,l=0;function d(e){if(0===l)return;const t=l,n=u;l=0,u=0,f(),a.notify({reason:e,messagesCount:t,bytesCount:n})}function f(){W(c),c=void 0}return{flushObservable:a,get messagesCount(){return l},notifyBeforeAddMessage(e){u+e>=t&&d("bytes_limit"),l+=1,u+=e,void 0===c&&(c=z((()=>{d("duration_limit")}),n))},notifyAfterAddMessage(n=0){u+=n,l>=e?d("messages_limit"):u>=t&&d("bytes_limit")},notifyAfterRemoveMessage(e){u-=e,l-=1,0===l&&f()}}}function to(e,t,n,r,o,i,s=Ur){const a=u(e,t),c=n&&u(e,n);function u(e,{endpoint:t,encoder:n}){return s({encoder:n,request:Yr(t,e.batchBytesLimit,r),flushController:eo({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageMayExitObservable:o,sessionExpireObservable:i}),messageBytesLimit:e.messageBytesLimit})}return{flushObservable:a.flushController.flushObservable,add(e,t=!0){a.add(e),c&&t&&c.add(n.transformMessage?n.transformMessage(e):e)},upsert:(e,t)=>{a.upsert(e,t),c&&c.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:()=>{a.stop(),c&&c.stop()}}}function no(){let e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write(n,r){const o=G(n);t+=o,e+=n,r&&r(o)},finish(e){e(this.finishSync())},finishSync(){const n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:e=>e.length}}function ro(e,t,n,r,o,i){const s=bt("browser-logs-sdk",t);s.setContextProvider((()=>{var e,t,n,r,s,a;return{application:{id:null===(e=i())||void 0===e?void 0:e.application_id},session:{id:null===(t=o.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(r=null===(n=i())||void 0===n?void 0:n.view)||void 0===r?void 0:r.id},action:{id:null===(a=null===(s=i())||void 0===s?void 0:s.user_action)||void 0===a?void 0:a.id}}}));const a=[];if(qt()){const e=$t(),t=s.observable.subscribe((t=>e.send("internal_telemetry",t)));a.push((()=>t.unsubscribe()))}else{const e=to(t,{endpoint:t.rumEndpointBuilder,encoder:no()},t.replica&&{endpoint:t.replica.rumEndpointBuilder,encoder:no()},n,r,o.expireObservable);a.push((()=>e.stop()));const i=s.observable.subscribe((n=>e.add(n,function(e){return e.site===ze}(t))));a.push((()=>i.unsubscribe()))}return yt.drain(),function(e){vt({type:ht.configuration,configuration:e})}(function(e){const t={session_sample_rate:(n=e).sessionSampleRate,telemetry_sample_rate:n.telemetrySampleRate,telemetry_configuration_sample_rate:n.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:n.telemetryUsageSampleRate,use_before_send:!!n.beforeSend,use_partitioned_cross_site_session_cookie:n.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:n.useSecureSessionCookie,use_proxy:!!n.proxy,silent_multiple_init:n.silentMultipleInit,track_session_across_subdomains:n.trackSessionAcrossSubdomains,track_anonymous_user:n.trackAnonymousUser,session_persistence:n.sessionPersistence,allow_fallback_to_local_storage:!!n.allowFallbackToLocalStorage,store_contexts_across_pages:!!n.storeContextsAcrossPages,allow_untrusted_events:!!n.allowUntrustedEvents,tracking_consent:n.trackingConsent};var n;return{forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports,use_pci_intake:e.usePciIntake,...t}}(e)),{telemetry:s,stop:()=>{a.forEach((e=>e()))}}}const oo="DISCARDED",io="SKIPPED";const so=function(){const e={};return{register:(t,n)=>(e[t]||(e[t]=[]),e[t].push(n),{unregister:()=>{e[t]=e[t].filter((e=>e!==n))}}),triggerHook(t,n){const r=e[t]||[],o=[];for(const e of r){const t=e(n);if(t===oo)return oo;t!==io&&o.push(t)}return U(...o)}}};const ao=function(e){const t=ue("global context"),n=ue("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),r=ue("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}}),o=function(e){const t=new ie;return{tryToInit(t){e||(e=t)},update(n){e=n,t.notify()},isGranted:()=>e===le.GRANTED,observable:t}}();function i(){return function(e,t,n){return{view:{referrer:document.referrer,url:window.location.href},context:e.getContext(),user:t.getContext(),account:n.getContext()}}(t,n,r)}let s=tr(i,o,((a,c)=>{a.storeContextsAcrossPages&&(ye(c,t,nr,2),ye(c,n,nr,1),ye(c,r,nr,4));const u=e(a,c,i,o);return s=function(e,t){return{init:e=>{Et("DD_LOGS",e)},initConfiguration:e,...t}}(a,u),u}));const a={};return function(e){const t={version:"6.8.0",onReady(e){e()},...e};return Object.defineProperty(t,"_setDebug",{get:()=>R,enumerable:!1}),t}({logger:new At(((...e)=>s.handleLog(...e))),init:j((e=>s.init(e))),setTrackingConsent:j((e=>{var t;o.update(e),t={feature:"set-tracking-consent",tracking_consent:e},vt({type:ht.usage,usage:t})})),getGlobalContext:j((()=>t.getContext())),setGlobalContext:j((e=>t.setContext(e))),setGlobalContextProperty:j(((e,n)=>t.setContextProperty(e,n))),removeGlobalContextProperty:j((e=>t.removeContextProperty(e))),clearGlobalContext:j((()=>t.clearContext())),createLogger:j(((e,t={})=>(a[e]=new At(((...e)=>s.handleLog(...e)),te(e),t.handler,t.level,te(t.context)),a[e]))),getLogger:j((e=>a[e])),getInitConfiguration:j((()=>D(s.initConfiguration))),getInternalContext:j((e=>s.getInternalContext(e))),setUser:j(n.setContext),getUser:j(n.getContext),setUserProperty:j(n.setContextProperty),removeUserProperty:j(n.removeContextProperty),clearUser:j(n.clearContext),setAccount:j(r.setContext),getAccount:j(r.getContext),setAccountProperty:j(r.setContextProperty),removeAccountProperty:j(r.removeContextProperty),clearAccount:j(r.clearContext)})}((function(e,t,n,r){const o=new qr,i=so(),s=[];o.subscribe(1,(e=>ct("logs",e)));const a=function(e){return t=>{e.notify(0,{rawLogsEvent:{message:t.message,date:t.startClocks.timeStamp,origin:kt.AGENT,status:Ot.error}}),wt("Error reported to customer",{"error.message":t.message})}}(o),c=function(e){return new ie((t=>{const{stop:n}=fe(e,window,["visibilitychange","freeze"],(e=>{"visibilitychange"===e.type&&"hidden"===document.visibilityState?t.notify({reason:rr.HIDDEN}):"freeze"===e.type&&t.notify({reason:rr.FROZEN})}),{capture:!0}),r=de(e,window,"beforeunload",(()=>{t.notify({reason:rr.UNLOADING})})).stop;return()=>{n(),r()}}))}(t),u=!t.sessionStoreStrategyType||qt()||ar()?function(e){const t="1"===xr(e)?{}:void 0;return{findTrackedSession:()=>t,expireObservable:new ie}}(t):wr(t,r),{stop:l,getRUMInternalContext:d}=function(e){const t=window;let n=!1;function r(e){const r=ar(),o=function(e,t){if(t&&t.getInternalContext)return t.getInternalContext(e)}(e,r?t.DD_RUM_SYNTHETICS:t.DD_RUM);if(o)return o;r&&!n&&(n=!0,wt("Logs sent before RUM is injected by the synthetics worker",{testId:cr(),resultId:ur()}))}return e.register(0,(({startTime:e})=>r(e)||io)),{getRUMInternalContext:r,stop:()=>{n=!1}}}(i),{stop:f}=ro(e,t,a,c,u,d);s.push((()=>f())),Pr(t,o),function(e,t){if(!e.forwardErrorsToLogs)return{stop:J};const n=new ie,{stop:r}=$r(n),o=n.subscribe((e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:Tt(e),origin:kt.SOURCE,status:Ot.error},messageContext:e.context})}))}(t,o),function(e,t){const n=Er(e.forwardConsoleLogs).subscribe((e=>{var n;const r={rawLogsEvent:{date:tt(),message:e.message,origin:kt.CONSOLE,error:e.error&&Tt(e.error),status:kr[e.api]},messageContext:null===(n=e.error)||void 0===n?void 0:n.context,domainContext:{handlingStack:e.handlingStack}};t.notify(0,r)}))}(t,o),function(e,t){const n=Kn(e,e.forwardReports).subscribe((e=>{let n,r=e.message;const o="deprecation"===e.originalError.type?Ot.warn:Ot.error;var i,s;o===Ot.error?n=Tt(e):e.stack&&(r+=` Found in ${i=e.stack,null===(s=/@ (.+)/.exec(i))||void 0===s?void 0:s[1]}`),t.notify(0,{rawLogsEvent:{date:tt(),message:r,origin:kt.REPORT,error:n,status:o}})}))}(t,o);const{handleLog:p}=Mr(o);if(Sr(u,t,o,i,n,a),qt())!function(e){const t=$t();e.subscribe(1,(e=>{t.send("log",e)}))}(o);else{const{stop:e}=function(e,t,n,r,o){const i=to(e,{endpoint:e.logsEndpointBuilder,encoder:no()},e.replica&&{endpoint:e.replica.logsEndpointBuilder,encoder:no()},n,r,o.expireObservable);return t.subscribe(1,(e=>{i.add(e)})),i}(t,o,a,c,u);s.push((()=>e()))}var h;return{handleLog:p,getInternalContext:(h=u,{get:e=>{const t=h.findTrackedSession(e);if(t)return{session_id:t.id}}}).get,stop:()=>{s.forEach((e=>e())),l()}}}));function co(e){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(e)}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,po(r.key),r)}}function fo(e,t,n){return(t=po(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function po(e){var t=function(e,t){if("object"!=co(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==co(t)?t:String(t)}!function(e,t,n){const r=e[t];r&&!r.q&&r.version&&_.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=n,r&&r.q&&r.q.forEach((e=>O(e,"onReady callback threw an error:")()))}($(),"DD_LOGS",ao),ao.init({clientToken:"pub6599f41db237f2423363ea4fec422c65",site:"datadoghq.com",service:"default-webform-script",version:"1.0.0",env:"production",sessionSampleRate:100,forwardErrorsToLogs:!1});var ho=ao.logger,mo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isVerbose",value:function(){return!0===window.__default__logging__verbose}},{key:"shouldSample",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2;return Math.random()<e}},{key:"log",value:function(e,t){for(var n,r,o,i="".concat(this.PREFIX).concat(t),s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];var u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({message:t,hostname:window.location.hostname},a);switch(e){case"debug":var l;this.isVerbose()&&(l=console).debug.apply(l,[i].concat(a));break;case"info":(n=console).info.apply(n,[i].concat(a)),ho.info(i,u);break;case"warn":this.shouldSample()&&ho.warn(i,u),(r=console).warn.apply(r,[i].concat(a));break;case"error":ho.error(i,u),(o=console).error.apply(o,[i].concat(a))}}},{key:"debug",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,["debug",e].concat(n))}},{key:"info",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,["info",e].concat(n))}},{key:"warn",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,["warn",e].concat(n))}},{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,["error",e].concat(n))}}],(n=null)&&lo(t.prototype,n),r&&lo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();fo(mo,"PREFIX","[Default.com] - ");var go=[".default.com",".vercel.app"],yo=["https:"],vo=["development","local"],bo=function(e){if(!e)return null;if(vo.includes("production"))return new URL(e);var t=new URL(e);return go.some((function(e){return t.hostname.endsWith(e)}))?yo.includes(t.protocol)?t:(mo.error("Invalid URL protocol"),null):(mo.error("Invalid scheduler domain"),null)},wo=function(e){var t=new URL(e);return yo.includes(t.protocol)?t:(mo.error("Invalid URL protocol"),null)};function xo(e){var t=wo(e);t&&(window.location.href=t.toString())}function So(e,t,n){try{if(document.querySelector("#__DEFAULT_IFRAME__"))return;var r=bo(e);if(!r)throw new Error("Invalid Scheduler URL");var o=document.querySelector("body"),i=document.createElement("iframe");if(!o)throw new Error("No body element found");i.src=r.toString(),i.height="100%",i.width="100%",i.id="__DEFAULT_IFRAME__",i.style.border="none",i.style.position="fixed",i.style.top="0px",i.style.left="0px",i.style.zIndex="999999",o.appendChild(i),window.addEventListener("message",(function(e){if("string"==typeof(null==e?void 0:e.data)){var t,r=null==e||null===(t=e.data)||void 0===t?void 0:t.split(":re:"),o=r[0],s=r[1];"__default_scheduler_close__"===o&&(null==i||i.remove(),y(),null==n||n({redirectUrl:s}),"null"!==s&&xo(s))}})),window.addEventListener("message",(function(e){"string"==typeof(null==e?void 0:e.data)&&"default.scheduler_loaded"===e.data&&(null==t||t(e))}))}catch(e){throw y(),mo.error("scheduler handler failed",e),e}}var _o={SUBMIT:"/import/submit",SUBMIT_V2:"/import/v2/submit",SUBMIT_V3:"/import/v3/submit",INITIALIZE:"/import/initialize",FETCH_FORM:"/embed/form",SUBMIT_EMBED:"/import/embed/submit",ENRICH_EMAIL:"/enrichment",LOAD_DEFAULT_FORM:"/load",WEBFORM_ERROR:"/import/error"};function Eo(e){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(e)}function ko(){ko=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),a=new R(r||[]);return o(s,"_invoke",{value:L(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};u(w,s,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(j([])));S&&S!==n&&r.call(S,s)&&(w=S);var _=b.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,s,a){var c=d(e[o],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Eo(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=f;return function(i,s){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=d(t,n,r);if("normal"===u.type){if(o=r.done?m:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Eo(t)+" is not iterable")}return v.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(k.prototype),u(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(_),u(_,c,"Generator"),u(_,s,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Lo(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Oo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Lo(i,r,o,s,a,"next",e)}function a(e){Lo(i,r,o,s,a,"throw",e)}s(void 0)}))}}var Co="https://nucleus.default.com";function To(e,t){return Ro.apply(this,arguments)}function Ro(){return(Ro=Oo(ko().mark((function e(t,n){var r,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Co).concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,r.ok){e.next=8;break}throw new Error(o.message||"Request failed");case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(e){return Po.apply(this,arguments)}function Po(){return(Po=Oo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,n.ok){e.next=9;break}throw new Error(r.message||r.error||"Request failed with status ".concat(n.status," ").concat(t));case 9:return e.abrupt("return",r);case 12:if(e.prev=12,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=16;break}throw e.t0;case 16:throw new Error("Failed to fetch data from "+t);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Ao(e){return Io.apply(this,arguments)}function Io(){return(Io=Oo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",To(_o.SUBMIT_V2,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $o(e,t){return qo.apply(this,arguments)}function qo(){return(qo=Oo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jo("".concat(Co).concat(_o.FETCH_FORM,"/").concat(t,"/").concat(n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(e){return Do.apply(this,arguments)}function Do(){return(Do=Oo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",To(_o.SUBMIT_EMBED,t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e){var t={};return e.forEach((function(e,n){e instanceof File||(Array.isArray(e)?t[n]=e:t[n]=e.toString())})),t}function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){Go(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Go(e,t,n){var r;return r=function(e,t){if("object"!=No(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=No(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==No(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,a=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wo(e){try{var t=null;if(e){var n,r=new URLSearchParams((null===(n=e.split("?"))||void 0===n?void 0:n[1])||null),o={};r.forEach((function(e,t){e&&t&&t.includes("utm_")&&(o[t]=e)})),t=o}return t}catch(e){return null}}function Vo(){try{var e=function(){try{var e,t,n=document.cookie;return document.referrer&&document.referrer.includes("utm_")?document.referrer:Ho(null!==(e=null===(t=n.split("__d_d_r__=")[1])||void 0===t?void 0:t.split(";"))&&void 0!==e?e:[],1)[0]||null}catch(e){return null}}(),t=function(){try{var e,t;return Ho(null!==(e=null===(t=document.cookie.split("__d_d_r_l__=")[1])||void 0===t?void 0:t.split(";"))&&void 0!==e?e:[],1)[0]||null}catch(e){return null}}(),n=function(){try{var e,t;return Ho(null!==(e=null===(t=document.cookie.split("__d_d_r__=")[1])||void 0===t?void 0:t.split(";"))&&void 0!==e?e:[],1)[0]||null}catch(e){return null}}(),r=window.location.href,o=Wo(e),i=Wo(t),s=Wo(n),a=Wo(r);return{referrer:e,landingReferrer:t,landingUrl:n,utmParams:Fo(Fo(Fo(Fo({},o),i),s),a),submissionUrl:r}}catch(e){return{referrer:null,landingReferrer:null,landingUrl:null,utmParams:null,submissionUrl:null}}}function Zo(e){var t=Vo(),n=t.referrer,r=t.landingReferrer,o=t.landingUrl;return{submission:e,utm_params:t.utmParams,referrer:n,submission_url:t.submissionUrl,device_track_id:function(e){try{var t;return"7"===e.toString()?null===(t=window.amplitude)||void 0===t?void 0:t.getDeviceId():void 0}catch(e){return}}(e.team_id),landing_url:o,landing_referrer:r}}function Jo(e){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(e)}function Ko(e){var t=[];if(e.team_id||t.push("team_id is required"),e.form_id||t.push("form_id is required"),!e.responses||"object"!==Jo(e.responses))return t.push("responses must be an object"),t;if(!e.questions||!Array.isArray(e.questions))return t.push("questions must be an array"),t;var n=new Set(e.questions.map((function(e){return e.id})));Object.keys(e.responses).forEach((function(e){n.has(e)||t.push('Response key "'.concat(e,'" does not match any question ID'))}));var r=e.questions.find((function(e){return"email"===e.type}));r&&(e.responses[r.id]||t.push("Email field is required"));return t}function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Xo(e,t,n){var r;return r=function(e,t){if("object"!=Yo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Yo(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qo=function(e){return e.SingleSelect="Single Select",e.MultiSelect="Multi Select",e.EmailInput="Email Input",e.ShortText="Short Text",e.LongText="Long Text",e.Phone="Phone",e.URL="URL",e.LeadAttribute="Lead Attribute",e}({}),ei=function(e){return e.IndustryGroup="industry_group",e.HeadCount="head_count",e.Role="role",e}({}),ti=Xo(Xo(Xo(Xo(Xo({},Qo.EmailInput,"email"),Qo.LeadAttribute,"text"),Qo.ShortText,"text"),Qo.Phone,"tel"),Qo.URL,"url"),ni=function(e){if(e){var t=e.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return t.length>128&&(t=t.substring(0,128)),t}};function ri(e){var t=document.createElement("input");return t.classList.add("def-form-input"),t.classList.add("def-".concat(ni(e.title),"-input")),t.classList.add("def-".concat(ni(e.question_type),"-input")),t.name=e.question_id,t.type=ti[e.question_type]||"text",t.placeholder=e.placeholder||"",e.required&&(t.required=!0),t}function oi(e){var t=document.createElement("div");t.classList.add("def-other-option-container"),t.style.display="none";var n=document.createElement("input");return n.type="text",n.name=e.question_id,n.placeholder="Other",n.classList.add("def-form-input"),n.classList.add("def-other-option-input"),t.appendChild(n),t}function ii(e){var t,n=document.createElement("div");if(n.classList.add("def-form-radio-options-container"),null==e||null===(t=e.question_options)||void 0===t||t.forEach((function(t){var r=document.createElement("input");r.classList.add("def-form-radio"),r.classList.add("def-".concat(ni(t),"-option")),r.classList.add("def-".concat(ni(e.question_type),"-option")),r.type="radio",r.name=e.question_id,r.value=t;var o=document.createElement("label");o.appendChild(r),o.appendChild(document.createTextNode(t)),o.classList.add("def-radio-label"),o.classList.add("def-".concat(ni(e.question_type),"-label")),o.classList.add("def-".concat(ni(e.title),"-label")),n.appendChild(o)})),e.other_option){var r=document.createElement("input");r.type="radio",r.name=e.question_id,r.value="other",r.classList.add("def-form-radio"),r.classList.add("def-other-option");var o=document.createElement("label");o.appendChild(r),o.appendChild(document.createTextNode("Other")),o.classList.add("def-radio-label"),n.appendChild(o);var i=oi(e);n.appendChild(i),n.querySelectorAll('input[type="radio"]').forEach((function(e){e.addEventListener("change",(function(){i.style.display="other"===e.value?"block":"none";var t=i.querySelector("input");t&&(t.required="other"===e.value)}))}))}return n}function si(e){switch(e.question_type){case Qo.EmailInput:case Qo.ShortText:case Qo.Phone:case Qo.URL:return ri(e);case Qo.LongText:return function(e){var t=document.createElement("textarea");return t.name=e.question_id,t.placeholder=e.placeholder||"",t.classList.add("def-form-textarea"),t.classList.add("def-".concat(ni(e.title),"-textarea")),t.classList.add("def-".concat(ni(e.question_type),"-textarea")),e.required&&(t.required=!0),t}(e);case Qo.SingleSelect:return e.dropdown?function(e){var t,n=document.createElement("div");n.classList.add("def-form-select-container");var r=document.createElement("select");if(r.name=e.question_id,r.classList.add("def-form-select"),r.classList.add("def-".concat(ni(e.title),"-select")),r.classList.add("def-".concat(ni(e.question_type),"-select")),null==e||null===(t=e.question_options)||void 0===t||t.forEach((function(e){var t=document.createElement("option");t.classList.add("def-form-select-option"),t.classList.add("def-".concat(ni(e),"-option")),t.value=e,t.text=e,r.appendChild(t)})),e.other_option){var o=document.createElement("option");o.value="other",o.text="Other",o.classList.add("def-other-option"),r.appendChild(o);var i=oi(e);n.appendChild(r),n.appendChild(i),r.addEventListener("change",(function(){i.style.display="other"===r.value?"block":"none";var e=i.querySelector("input");e&&(e.required="other"===r.value)}))}else n.appendChild(r);return n}(e):ii(e);case Qo.MultiSelect:return function(e){var t,n=document.createElement("div");if(n.classList.add("def-form-checkbox-options-container"),null==e||null===(t=e.question_options)||void 0===t||t.forEach((function(t){var r=document.createElement("input");r.classList.add("def-form-checkbox"),r.classList.add("def-".concat(ni(t),"-option")),r.classList.add("def-".concat(ni(e.question_type),"-option")),r.type="checkbox",r.name=e.question_id,r.value=t;var o=document.createElement("label");o.appendChild(r),o.appendChild(document.createTextNode(t)),o.classList.add("def-checkbox-label"),o.classList.add("def-".concat(ni(e.question_type),"-label")),o.classList.add("def-".concat(ni(e.title),"-label")),n.appendChild(o)})),e.other_option){var r=document.createElement("input");r.type="checkbox",r.name=e.question_id,r.value="other",r.classList.add("def-form-checkbox"),r.classList.add("def-other-option");var o=document.createElement("label");o.appendChild(r),o.appendChild(document.createTextNode("Other")),o.classList.add("def-checkbox-label"),n.appendChild(o);var i=oi(e);n.appendChild(i),r.addEventListener("change",(function(){i.style.display=r.checked?"block":"none";var e=i.querySelector("input");e&&(e.required=r.checked)}))}return n}(e);case Qo.LeadAttribute:return e.lead_attribute===ei.IndustryGroup||e.lead_attribute===ei.HeadCount||e.lead_attribute===ei.Role?ii(e):ri(e);default:return null}}function ai(e,t){var n=e.map((function(e){var t=document.createElement("div");t.classList.add("def-input-group"),t.classList.add("def-".concat(ni(e.question_type),"-container")),t.classList.add("def-".concat(ni(e.title)));var n=document.createElement("label");if(n.htmlFor=e.question_id,n.textContent=e.title,n.classList.add("def-form-label"),n.classList.add("def-input-group-label"),n.classList.add("def-".concat(ni(e.question_type),"-label")),n.classList.add("def-".concat(ni(e.title))),t.appendChild(n),e.description&&""!==e.description){var r=document.createElement("p");r.textContent=e.description,r.classList.add("def-input-group-description"),r.classList.add("def-".concat(ni(e.question_type),"-description")),r.classList.add("def-".concat(ni(e.title),"-description")),t.appendChild(r)}var o=si(e);return o&&t.appendChild(o),t})),r=document.createElement("button");return r.id="def-form-submitBtn",r.type="submit",r.textContent=t,r.classList.add("def-form-submit"),{fields:n,submitButton:r}}function ci(e){var t=document.createElement("form");t.id="def-form-".concat(e),t.classList.add("def-form","def-form-loading");var n=document.createElement("div");return n.classList.add("def-form-loading-container"),t.appendChild(n),t}function ui(e,t){e.innerHTML="",t.fields.forEach((function(t){return e.appendChild(t)})),e.appendChild(t.submitButton)}var li=["formId","teamId","container","submitText"];function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){Li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function hi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function mi(){mi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),a=new R(r||[]);return o(s,"_invoke",{value:L(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};u(w,s,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(j([])));S&&S!==n&&r.call(S,s)&&(w=S);var _=b.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,s,a){var c=d(e[o],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==pi(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=f;return function(i,s){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=d(t,n,r);if("normal"===u.type){if(o=r.done?m:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=m,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(pi(t)+" is not iterable")}return v.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(k.prototype),u(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new k(l(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(_),u(_,c,"Generator"),u(_,s,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function gi(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){gi(i,r,o,s,a,"next",e)}function a(e){gi(i,r,o,s,a,"throw",e)}s(void 0)}))}}function vi(e,t){wi(e,t),t.add(e)}function bi(e,t,n){wi(e,t),t.set(e,n)}function wi(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xi(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function Si(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"get");return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,n)}function _i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oi(r.key),r)}}function ki(e,t,n){return t&&Ei(e.prototype,t),n&&Ei(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Li(e,t,n){return(t=Oi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oi(e){var t=function(e,t){if("object"!=pi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pi(t)?t:String(t)}var Ci=function(){function e(){_i(this,e),Li(this,"listeners",{})}return ki(e,[{key:"emit",value:function(e,t,n){var r,o;null!==(r=this.listeners[e])&&void 0!==r&&r[t]&&(null===(o=this.listeners[e][t])||void 0===o||o.forEach((function(e){return e(n)})))}},{key:"on",value:function(e,t,n){var r;this.listeners[e]||(this.listeners[e]={}),this.listeners[e][t]||(this.listeners[e][t]=[]),null===(r=this.listeners[e][t])||void 0===r||r.push(n)}},{key:"cleanup",value:function(e){delete this.listeners[e]}}]),e}(),Ti=new WeakMap,Ri=new WeakMap,ji=new WeakSet,Pi=new WeakSet,Ai=new WeakSet,Ii=new WeakSet,$i=new WeakSet,qi=function(){function e(){_i(this,e),vi(this,$i),vi(this,Ii),vi(this,Ai),vi(this,Pi),vi(this,ji),bi(this,Ti,{writable:!0,value:new Ci}),bi(this,Ri,{writable:!0,value:function(){return"sub_".concat(Math.random().toString(36).slice(2))}}),Li(this,"displayLoadingModal",g),Li(this,"helloWorld",(function(){mo.info("Hello World! Welcome to Default.com")}))}var t,n;return ki(e,[{key:"submit",value:(n=yi(mi().mark((function e(t,n){var r,o,i,s,a,c;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Si(this,Ri).call(this),n&&xi(this,ji,Mi).call(this,r,n),e.prev=2,!((o=Ko(t)).length>0)){e.next=6;break}throw new Error("Validation failed: ".concat(o.join(", ")));case 6:return this.displayLoadingModal(),i=Zo(t),s=new URLSearchParams(window.location.search),a=s.has("updateDefaultFields"),e.next=12,xi(this,Ii,Ni).call(this,i,r,a);case 12:c=e.sent,Si(this,Ti).emit(r,"submission:success",c),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(2),mo.error("Submission failed",e.t0),Si(this,Ti).emit(r,"submission:error",e.t0 instanceof Error?e.t0:new Error("Unknown error")),y(),Si(this,Ti).cleanup(r);case 22:case"end":return e.stop()}}),e,this,[[2,16]])}))),function(e,t){return n.apply(this,arguments)})},{key:"insertForm",value:(t=yi(mi().mark((function e(t){var n,r,o,i,s,a,c,u,l,d,f,p;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.formId,r=t.teamId,o=t.container,i=t.submitText,s=void 0===i?"Submit":i,a=hi(t,li),c="string"==typeof o?document.querySelector(o):o){e.next=4;break}throw new Error("Target container not found");case 4:return u=Si(this,Ri).call(this),e.prev=5,a&&xi(this,ji,Mi).call(this,u,a),d=ci(n),c.innerHTML="",c.appendChild(d),e.next=12,$o(n,r);case 12:if(null!=(f=e.sent)&&null!==(l=f.form)&&void 0!==l&&l.questions){e.next=15;break}throw new Error("Invalid form data received");case 15:p=ai(f.form.questions,s),ui(d,p),xi(this,$i,Fi).call(this,d,n,r,u),d.classList.remove("def-form-loading"),d.classList.add("def-form-ready"),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(5),mo.error("Form insertion failed",e.t0),y(),Si(this,Ti).emit(u,"submission:error",e.t0 instanceof Error?e.t0:new Error("Form insertion failed"));case 27:case"end":return e.stop()}}),e,this,[[5,22]])}))),function(e){return t.apply(this,arguments)})}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e,Object.freeze(e.instance)),e.instance}}]),e}();function Mi(e,t){t.onSuccess&&Si(this,Ti).on(e,"submission:success",t.onSuccess),t.onError&&Si(this,Ti).on(e,"submission:error",t.onError),t.onSchedulerDisplayed&&Si(this,Ti).on(e,"scheduler:displayed",t.onSchedulerDisplayed),t.onSchedulerClosed&&Si(this,Ti).on(e,"scheduler:closed",t.onSchedulerClosed),t.onMeetingBooked&&Si(this,Ti).on(e,"scheduler:meeting_booked",t.onMeetingBooked)}function Di(e,t,n){var r=this;if(t){window.addEventListener("message",(function e(t){var o;"default.meeting_booked"===(null==t||null===(o=t.data)||void 0===o?void 0:o.event)&&(Si(r,Ti).emit(n,"scheduler:meeting_booked",{payload:t.data.payload}),Si(r,Ti).cleanup(n),window.removeEventListener("message",e),y())})),So(e,(function(e){Si(r,Ti).emit(n,"scheduler:displayed",e)}),(function(e){Si(r,Ti).emit(n,"scheduler:closed",e),Si(r,Ti).cleanup(n),y()}))}else window.open(e,"_blank"),y()}function Ui(e,t){var n;null!=e&&null!==(n=e.body)&&void 0!==n&&null!==(n=n.stepDetails)&&void 0!==n&&n.url?xi(this,Pi,Di).call(this,e.body.stepDetails.url,!!e.body.stepDetails.inline,t):y(),Si(this,Ti).emit(t,"submission:success",e)}function Ni(e,t,n){return Bi.apply(this,arguments)}function Bi(){return(Bi=yi(mi().mark((function e(t,n,r){var o,i,s,a,c,u=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ao(fi(fi({},t),r&&{init:!0}));case 3:if(null==(i=e.sent)||null===(o=i.body)||void 0===o||null===(o=o.stepDetails)||void 0===o||!o.url){e.next=10;break}return i.body.stepDetails.inline&&(c=function e(t){var r;"default.meeting_booked"===(null==t||null===(r=t.data)||void 0===r?void 0:r.event)&&(Si(u,Ti).emit(n,"scheduler:meeting_booked",{payload:t.data.payload}),Si(u,Ti).cleanup(n),window.removeEventListener("message",e))},window.addEventListener("message",c),So(i.body.stepDetails.url,(function(e){Si(u,Ti).emit(n,"scheduler:displayed",e)}),(function(e){Si(u,Ti).emit(n,"scheduler:closed",e),Si(u,Ti).cleanup(n)}))),null==i||null===(s=i.body)||void 0===s||null===(s=s.stepDetails)||void 0===s||!s.url||null!=i&&null!==(a=i.body)&&void 0!==a&&null!==(a=a.stepDetails)&&void 0!==a&&a.inline||xo(i.body.stepDetails.url),e.abrupt("return",i);case 10:y();case 11:e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),mo.error("Form submission failed",e.t0,t),y(),Si(this,Ti).emit(n,"submission:error",e.t0 instanceof Error?e.t0:new Error("Form submission failed"));case 18:case"end":return e.stop()}}),e,this,[[0,13]])})))).apply(this,arguments)}function Fi(e,t,n,r){var o,i=this;e.querySelectorAll('input[type="email"]').forEach((function(e){o||(o=e.name)}));var s=function(){var s=yi(mi().mark((function s(a){var c,u,l,d,f,p,h,m;return mi().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a.preventDefault(),i.displayLoadingModal(),e.classList.add("def-form-submitting"),s.prev=3,c=new FormData(e),u=Uo(c),l=Vo(),d=l.referrer,f=l.utmParams,p=l.submissionUrl,h={submission:{form_id:t,team_id:n,responses:u},email_name:o,utm_params:f,submission_url:p,referrer:d},s.prev=8,s.next=11,Mo(h);case 11:m=s.sent,xi(i,Ai,Ui).call(i,m,r),s.next=18;break;case 15:s.prev=15,s.t0=s.catch(8),mo.error("Form submission failed",h);case 18:e.classList.remove("def-form-submitting"),e.classList.add("def-form-submit-success"),s.next=28;break;case 22:s.prev=22,s.t1=s.catch(3),mo.error("Form submission failed",s.t1),e.classList.remove("def-form-submitting"),e.classList.add("def-form-submit-error"),Si(i,Ti).emit(r,"submission:error",s.t1 instanceof Error?s.t1:new Error("Form submission failed"));case 28:case"end":return s.stop()}}),s,null,[[3,22],[8,15]])})));return function(e){return s.apply(this,arguments)}}();e.addEventListener("submit",s),e.classList.remove("def-form-loading"),e.classList.add("def-form-ready")}Li(qi,"instance",null),window.DefaultSDK=qi.getInstance()})();